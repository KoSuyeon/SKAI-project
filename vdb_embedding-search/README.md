# Qdrant 구축 및 정규화 test
intfloat/multilingual-e5-base 모델를 사용하여 Qdranst를 구축하고 검색 성능을 테스트합니다.

### 기능 설명
- 다국어 의미 기반 임베딩: intfloat/multilingual-e5-base 사용
- Qdrant: 고속 벡터 검색 인덱스 관리
- Top-k 검색 평가: Top-1, Top-2 정확도 및 시간 측정
- 현상코드 특화 전처리: '설비에 ~ 현상이 발생했습니다.' 형식으로 문장화하여 검색 성능 개선
- 동의어 정규화 (선택 적용): "망가짐" → "고장" 같은 의미 동일 처리 가능

### 파일 설명
| 파일명                       | 설명                                     |
| ------------------------- | -------------------------------------- |
| `vector_uploader.py`      | CSV 데이터를 벡터로 변환하여 Qdrant에 업로드          |
| `vector_search.py`        | 단일 질의 기반의 벡터 검색 확         |
| `vector_search_test.py`   | CSV 데이터셋을 기반으로 일괄 검색 및 정확도 평가 수행       |
| `vector_search_result.py` | 검색 결과 CSV를 분석해 label별 정확도, 평균 검색 시간 요약 |
| `check_max_token.py`      | 입력 텍스트의 max token 수 측정 (모델 입력 제한 확인용)  |



## test 결과
1) 정규화 용어 원본 사용
📊 Label별 검색 정확도 및 시간 요약:
| label   |   top1_accuracy |   top2_accuracy |   combined_accuracy |   avg_search_time |   total_count |
|---------|-----------------|-----------------|---------------------|-------------------|---------------|
| 설비유형    |          100    |               0 |              100    |            0.0041 |           163 |
| 위치      |          100    |               0 |              100    |            0.0042 |           429 |
| 현상코드    |           91.67 |               0 |               91.67 |            0.0039 |            12 |

2) 사람이 입력할 것으로 예상되는 용어 (*llm 학습 이후 test 예정)
📊 Label별 검색 정확도 및 시간 요약:
| label   |   top1_accuracy |   top2_accuracy |   combined_accuracy |   avg_search_time |   total_count |
|---------|-----------------|-----------------|---------------------|-------------------|---------------|
| 설비유형    |           64.33 |            7.38 |               71.71 |            0.0042 |           813 |
| 위치      |           81.75 |            2.5  |               84.24 |            0.0051 |          1282 |
| 현상코드    |            0    |            0    |                0    |            0.0044 |            24 |
